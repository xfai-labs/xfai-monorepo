# Xfai Monorepo

## Organization

- Xfai's smart contract code can be found in `libs/dex/contracts`.
- Typechain based _ethers.js_ classes for contract interfaces can be generated by running `pnpm nx run dex:build`
- The white paper can be found in `libs/dex/whitepaper`.
- The SDK can be found in `libs/sdk`
- Backend related code can be found in `workers/` directory which contains various cloudflare worker projects
- Xfai react based dapp is to be found under `apps/dapp`

## Requirements

- Python3
- NodeJS 14 - 16 (+ build tools) or node 18
- Rosetta for Apple Silicon (M1,M2)
- PNPM

## Install the following for macos

```zsh
brew install ganache
python3 -m pip install --user pipx
python3 -m pipx ensurepath
pipx install eth-brownie
brew install pnpm # for windows you can do npm install -g pnpm
```

## Install deps

```
pnpm install
```

## Building the dex

### Following command builds typings and addresses for development

```zsh
pnpm nx run dex:build
```

## Serve app

`pnpm nx run dex:serve` and `pnpm nx run dapp:serve`

or do it via a single command

## `pnpm dapp`

## Deployment dapp

Dapp is deployed to cloudflare pages using wrangler cli.
We have two environments, [preview](https://preview.xfai-dapp.pages.dev) and [production](https://xfai-dapp.pages.dev) with their respective development and production git branches.

## Licensing

The primary license for Xfai is the Business Source License 1.1 (`BUSL-1.1`), see [`LICENSE`](./LICENSE). However, some files may also be licensed under `GPL-3.0-only` or `MIT` (as indicated in their SPDX headers).
